@{
    ViewData["Title"] = "Create Routine";
    Layout = null;
    var Exercises = await _routineService.GetExercisesAsync();
}

@model AddExerciseModel

@inject RoutineApp.Services.Interfaces.IExerciseService _routineService
@inject RoutineApp.Services.Interfaces.IDayService _dayService

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - RoutineApp</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/CreateRoutine.css" />
</head>
<body>

    <!-- Team -->
    <section id="team" class="pb-5">
        <div class="container-fluid">
            <h5 class="section-title h1">OUR TEAM</h5>
            <div class="row">

                @{
                    for (int i = 0; i < Exercises.Count; i++)
                    {

                        string imageBase64Data = Convert.ToBase64String(Exercises[i].Images[0].Img);
                        string imageDataUrl = string.Format("data:image/jpg;base64,{0}", imageBase64Data);



                        <div class="col-xs-12 col-sm-6 col-md-4">
                            <div class="image-flip">
                                <div class="mainflip flip-0">
                                    <div class="frontside">
                                        <div class="card">

                                            @{
                                                if (Exercises[i].IsInTheRoutine)
                                                {
                                                    <div class="alert-success">
                                                        Added!
                                                    </div>
                                                }
                                            }


                                            <div class="card-body text-center">
                                                <p><img class=" img-fluid" src="@imageDataUrl" alt="card image"></p>
                                                <h4 class="card-title">Sunlimetech</h4>
                                                <p class="card-text">This is basic card with image on top, title, description and button.</p>
                                                <a href="https://www.fiverr.com/share/qb8D02" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="backside">
                                        <div class="card">
                                            <div class="card-body text-center mt-4">
                                                <h4 class="card-title">Sunlimetech</h4>
                                                @*<p class="card-text">This is basic card with image on top, title, description and button.This is basic card with image on top, title, description and button.This is basic card with image on top, title, description and button.</p>*@

                                                <div class="container">
                                                    <img class=" img-fluid" src="@imageDataUrl" alt="card image">
                                                </div>



                                                @{
                                                    if (!Exercises[i].IsInTheRoutine)
                                                    {
                                                        <div class="container">
                                                            <form method="post" asp-action="AddExercise">

                                                                <div class="form-group">
                                                                    <label asp-for="Days"></label>
                                                                    <select asp-for="Days" multiple>
                                                                        @{
                                                                            foreach (var day in await _dayService.GetAllDaysAsync())
                                                                            {
                                                                                <option value="@day.Id">@day.DayName</option>
                                                                            }
                                                                        }
                                                                    </select>

                                                                </div>

                                                                <input asp-for="ExerciseId" hidden value="@Exercises[i].Id" />

                                                                <div class="form-group">
                                                                    <input type="submit" value="Add" class="btn btn-primary" />
                                                                </div>

                                                            </form>
                                                        </div>
                                                    }
                                                    else
                                                    {
                                                        <div class="btn btn-danger">
                                                            <a href="/Exercise/RemoveExercise/@Exercises[i].Id">Remove</a>
                                                        </div>
                                                    }
                                                }








                                                @*<ul class="list-inline">
                                                        <li class="list-inline-item">
                                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                                <i class="fa fa-facebook"></i>
                                                            </a>
                                                        </li>
                                                        <li class="list-inline-item">
                                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                                <i class="fa fa-twitter"></i>
                                                            </a>
                                                        </li>
                                                        <li class="list-inline-item">
                                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                                <i class="fa fa-skype"></i>
                                                            </a>
                                                        </li>
                                                        <li class="list-inline-item">
                                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                                <i class="fa fa-google"></i>
                                                            </a>
                                                        </li>
                                                    </ul>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    }
                }

            </div>
        </div>
    </section>



















    @*<div class="card-deck mb-3 text-center">

            <h3>Your exercises</h3>



            <div class="card mb-4 shadow-sm">


                @{

                    for (int i = 0; i < Exercises.Count; i++)
                    {
                        var exercise = Exercises[i];

                        <div class="card" style="width: 18rem;">

                            <div id="@exercise.Id" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-indicators">
                                    <button type="button" data-bs-target="#@exercise.Id" data-bs-slide-to="@i" class="@(i==0?"active":"")" aria-current="true" aria-label="Slide 1"></button>
                                </div>
                                <div class="carousel-inner">
                                    @{
                                        for (int j = 0; j < exercise.Images.Count; j++)
                                        {
                                            string imageBase64Data = Convert.ToBase64String(exercise.Images[j].Img);
                                            string imageDataUrl = string.Format("data:image/jpg;base64,{0}", imageBase64Data);

                                            <div class="@(j==0?"carousel-item active":"carousel-item")">
                                                <img src="@imageDataUrl" class="d-block w-100" alt="@exercise.Images[j].Excercise.Name" />
                                            </div>
                                        }
                                    }
                                </div>
                                <button class="carousel-control-prev" type="button" data-bs-target="#@exercise.Id" data-bs-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-bs-target="#@exercise.Id" data-bs-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>


                            <div class="card-body">
                                <h5 class="card-title">@exercise.Name</h5>
                                <p class="card-text">bla bla bla bla</p>
                            </div>
                        </div>
                    }
                }
            </div>





        </div>*@





    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

</body>
</html>














